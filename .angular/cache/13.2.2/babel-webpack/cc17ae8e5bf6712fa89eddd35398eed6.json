{"ast":null,"code":"import { Router } from '@angular/router';\nimport { PinnerService } from '@common/services/global/pinner';\nimport { KdStateService } from '@common/services/global/state';\nimport { VerberService } from '@common/services/global/verber';\nimport { Resource } from '@common/services/resource/endpoint';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@common/services/global/verber\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@common/services/global/state\";\nimport * as i4 from \"@common/services/global/pinner\";\nimport * as i5 from \"@angular/material/menu\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/tooltip\";\n\nfunction MenuComponent_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵi18n(1, 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", ctx_r1.getLogsHref());\n  }\n}\n\nfunction MenuComponent_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵi18n(1, 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", ctx_r2.getExecHref());\n  }\n}\n\nfunction MenuComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MenuComponent_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onTrigger();\n    });\n    i0.ɵɵi18n(1, 13);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MenuComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MenuComponent_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.onScale();\n    });\n    i0.ɵɵi18n(1, 14);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MenuComponent_button_6_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵi18n(1, 17);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction MenuComponent_button_6_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵi18n(1, 18);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction MenuComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MenuComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.isPinned() ? ctx_r13.onUnpin() : ctx_r13.onPin();\n    });\n    i0.ɵɵelementContainerStart(1, 15);\n    i0.ɵɵtemplate(2, MenuComponent_button_6_ng_container_2_Template, 2, 0, \"ng-container\", 16);\n    i0.ɵɵtemplate(3, MenuComponent_button_6_ng_container_3_Template, 2, 0, \"ng-container\", 16);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r5.isPinned());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", false);\n  }\n}\n\nfunction MenuComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MenuComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.onRestart();\n    });\n    i0.ɵɵi18n(1, 19);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst loggableResources = [Resource.daemonSet, Resource.job, Resource.pod, Resource.replicaSet, Resource.replicationController, Resource.statefulSet];\nconst pinnableResources = [Resource.crdFull];\nconst executableResources = [Resource.pod];\nconst triggerableResources = [Resource.cronJob];\nexport let MenuComponent = /*#__PURE__*/(() => {\n  class MenuComponent {\n    constructor(verber_, router_, kdState_, pinner_) {\n      this.verber_ = verber_;\n      this.router_ = router_;\n      this.kdState_ = kdState_;\n      this.pinner_ = pinner_;\n    }\n\n    setObjectMeta(objectMeta) {\n      this.objectMeta = objectMeta;\n    }\n\n    setTypeMeta(typeMeta) {\n      this.typeMeta = typeMeta;\n    }\n\n    setDisplayName(displayName) {\n      this.displayName = displayName;\n    }\n\n    setNamespaced(namespaced) {\n      this.namespaced = namespaced;\n    }\n\n    isLogsEnabled() {\n      return loggableResources.includes(this.typeMeta.kind);\n    }\n\n    getLogsHref() {\n      return this.kdState_.href('log', this.objectMeta.name, this.objectMeta.namespace, this.typeMeta.kind);\n    }\n\n    isExecEnabled() {\n      return executableResources.includes(this.typeMeta.kind);\n    }\n\n    getExecHref() {\n      return this.kdState_.href('shell', this.objectMeta.name, this.objectMeta.namespace);\n    }\n\n    isTriggerEnabled() {\n      return triggerableResources.includes(this.typeMeta.kind);\n    }\n\n    onTrigger() {\n      this.verber_.showTriggerDialog(this.typeMeta.kind, this.typeMeta, this.objectMeta);\n    }\n\n    isScaleEnabled() {\n      return this.typeMeta.scalable;\n    }\n\n    onScale() {\n      this.verber_.showScaleDialog(this.typeMeta.kind, this.typeMeta, this.objectMeta);\n    }\n\n    isPinEnabled() {\n      return pinnableResources.includes(this.typeMeta.kind);\n    }\n\n    onPin() {\n      this.pinner_.pin(this.typeMeta.kind, this.objectMeta.name, this.objectMeta.namespace, this.displayName ? this.displayName : this.objectMeta.name, this.namespaced);\n    }\n\n    onUnpin() {\n      this.pinner_.unpin(this.typeMeta.kind, this.objectMeta.name, this.objectMeta.namespace);\n    }\n\n    isPinned() {\n      return this.pinner_.isPinned(this.typeMeta.kind, this.objectMeta.name, this.objectMeta.namespace);\n    }\n\n    onEdit() {\n      this.verber_.showEditDialog(this.typeMeta.kind, this.typeMeta, this.objectMeta);\n    }\n\n    isRestartEnabled() {\n      return this.typeMeta.restartable;\n    }\n\n    onRestart() {\n      this.verber_.showRestartDialog(this.typeMeta.kind, this.typeMeta, this.objectMeta);\n    }\n\n    onDelete() {\n      this.verber_.showDeleteDialog(this.typeMeta.kind, this.typeMeta, this.objectMeta);\n    }\n\n  }\n\n  MenuComponent.ɵfac = function MenuComponent_Factory(t) {\n    return new (t || MenuComponent)(i0.ɵɵdirectiveInject(i1.VerberService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.KdStateService), i0.ɵɵdirectiveInject(i4.PinnerService));\n  };\n\n  MenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MenuComponent,\n    selectors: [[\"kd-resource-context-menu\"]],\n    inputs: {\n      objectMeta: \"objectMeta\",\n      typeMeta: \"typeMeta\",\n      displayName: \"displayName\",\n      namespaced: \"namespaced\"\n    },\n    decls: 15,\n    vars: 7,\n    consts: function () {\n      let i18n_0;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7585826646011739428$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS_1 = goog.getMsg(\"Edit\");\n        i18n_0 = MSG_EXTERNAL_7585826646011739428$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS_1;\n      } else {\n        i18n_0 = $localize`Edit`;\n      }\n\n      let i18n_2;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7022070615528435141$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS_3 = goog.getMsg(\"Delete\");\n        i18n_2 = MSG_EXTERNAL_7022070615528435141$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS_3;\n      } else {\n        i18n_2 = $localize`Delete`;\n      }\n\n      let i18n_4;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_4804785061014590286$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__5 = goog.getMsg(\"Logs\");\n        i18n_4 = MSG_EXTERNAL_4804785061014590286$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__5;\n      } else {\n        i18n_4 = $localize`Logs`;\n      }\n\n      let i18n_6;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_3796390051357100906$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__7 = goog.getMsg(\"Exec\");\n        i18n_6 = MSG_EXTERNAL_3796390051357100906$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__7;\n      } else {\n        i18n_6 = $localize`Exec`;\n      }\n\n      let i18n_8;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7343642247493540451$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__9 = goog.getMsg(\"Trigger\");\n        i18n_8 = MSG_EXTERNAL_7343642247493540451$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__9;\n      } else {\n        i18n_8 = $localize`Trigger`;\n      }\n\n      let i18n_10;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_1371553127733924023$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__11 = goog.getMsg(\"Scale\");\n        i18n_10 = MSG_EXTERNAL_1371553127733924023$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__11;\n      } else {\n        i18n_10 = $localize`Scale`;\n      }\n\n      let i18n_12;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7425524211157837406$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS___13 = goog.getMsg(\"Unpin\");\n        i18n_12 = MSG_EXTERNAL_7425524211157837406$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS___13;\n      } else {\n        i18n_12 = $localize`Unpin`;\n      }\n\n      let i18n_14;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_4475093671158329161$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS___15 = goog.getMsg(\"Pin\");\n        i18n_14 = MSG_EXTERNAL_4475093671158329161$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS___15;\n      } else {\n        i18n_14 = $localize`Pin`;\n      }\n\n      let i18n_16;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_1236604279860679031$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__17 = goog.getMsg(\"Restart\");\n        i18n_16 = MSG_EXTERNAL_1236604279860679031$$SRC_APP_FRONTEND_COMMON_COMPONENTS_LIST_COLUMN_MENU_COMPONENT_TS__17;\n      } else {\n        i18n_16 = $localize`Restart`;\n      }\n\n      return [[\"actions\", \"matMenu\"], [\"mat-menu-item\", \"\", \"queryParamsHandling\", \"preserve\", 3, \"routerLink\", 4, \"ngIf\"], [\"mat-menu-item\", \"\", 3, \"click\", 4, \"ngIf\"], [\"mat-menu-item\", \"\", \"id\", \"edit\", 3, \"click\"], i18n_0, [\"mat-menu-item\", \"\", \"id\", \"delete\", 3, \"click\"], i18n_2, [\"mat-icon-button\", \"\", \"id\", \"more-menu\", 1, \"kd-muted\", 3, \"matMenuTriggerFor\", \"click\"], [\"matTooltip\", \"Actions\"], [\"mat-menu-item\", \"\", \"queryParamsHandling\", \"preserve\", 3, \"routerLink\"], i18n_4, i18n_6, [\"mat-menu-item\", \"\", 3, \"click\"], i18n_8, i18n_10, [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], i18n_12, i18n_14, i18n_16];\n    },\n    template: function MenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-menu\", null, 0);\n        i0.ɵɵtemplate(2, MenuComponent_a_2_Template, 2, 1, \"a\", 1);\n        i0.ɵɵtemplate(3, MenuComponent_a_3_Template, 2, 1, \"a\", 1);\n        i0.ɵɵtemplate(4, MenuComponent_button_4_Template, 2, 0, \"button\", 2);\n        i0.ɵɵtemplate(5, MenuComponent_button_5_Template, 2, 0, \"button\", 2);\n        i0.ɵɵtemplate(6, MenuComponent_button_6_Template, 4, 3, \"button\", 2);\n        i0.ɵɵelementStart(7, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function MenuComponent_Template_button_click_7_listener() {\n          return ctx.onEdit();\n        });\n        i0.ɵɵi18n(8, 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, MenuComponent_button_9_Template, 2, 0, \"button\", 2);\n        i0.ɵɵelementStart(10, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function MenuComponent_Template_button_click_10_listener() {\n          return ctx.onDelete();\n        });\n        i0.ɵɵi18n(11, 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"a\", 7);\n        i0.ɵɵlistener(\"click\", function MenuComponent_Template_a_click_12_listener($event) {\n          return $event.stopPropagation();\n        });\n        i0.ɵɵelementStart(13, \"mat-icon\", 8);\n        i0.ɵɵtext(14, \"more_vert\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLogsEnabled());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isExecEnabled());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isTriggerEnabled());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isScaleEnabled());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isPinEnabled());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isRestartEnabled());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n      }\n    },\n    directives: [i5.MatMenu, i6.NgIf, i2.RouterLinkWithHref, i5.MatMenuItem, i6.NgSwitch, i6.NgSwitchCase, i7.MatAnchor, i5.MatMenuTrigger, i8.MatIcon, i9.MatTooltip],\n    encapsulation: 2\n  });\n  return MenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}