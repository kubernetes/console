{"ast":null,"code":"'use strict';\n\nconst url = require('url');\n\nmodule.exports = (input, length) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (typeof length !== 'number') {\n    throw new TypeError('Expected length to be a number');\n  }\n\n  if (input.length <= length) {\n    return input;\n  }\n\n  const TRUNCATE_SYMBOL_LENGTH = 2;\n  const parsed = url.parse(input);\n  let remainingLength = length - (input.length - parsed.path.length) - TRUNCATE_SYMBOL_LENGTH;\n  const pathParts = parsed.path.split('/');\n  const pathPartsRet = [];\n  let i = pathParts.length;\n\n  while (i--) {\n    const x = pathParts[i];\n\n    if (remainingLength < x.length + 1) {\n      pathPartsRet.push('â€¦');\n      break;\n    }\n\n    pathPartsRet.push(x);\n    remainingLength -= x.length + 1;\n  }\n\n  parsed.pathname = pathPartsRet.reverse().join('/');\n  return url.format(parsed);\n};","map":null,"metadata":{},"sourceType":"script"}