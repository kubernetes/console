{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { DecoderService } from '@common/services/global/decoder';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { HiddenPropertyMode } from '@common/components/hiddenproperty/component';\nimport { ActionbarService, ResourceMeta } from '@common/services/global/actionbar';\nimport { NotificationsService } from '@common/services/global/notifications';\nimport { EndpointManager, Resource } from '@common/services/resource/endpoint';\nimport { NamespacedResourceService } from '@common/services/resource/resource';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@common/services/resource/resource\";\nimport * as i2 from \"@common/services/global/actionbar\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@common/services/global/notifications\";\nimport * as i5 from \"@common/services/global/decoder\";\nimport * as i6 from \"../../../../common/components/objectmeta/component\";\nimport * as i7 from \"../../../../common/components/card/component\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"../../../../common/components/hiddenproperty/component\";\nimport * as i10 from \"./edit/component\";\n\nfunction SecretDetailComponent_kd_hidden_property_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"kd-hidden-property\", 7, 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11);\n    i0.ɵɵelementStart(7, \"kd-secret-detail-edit\", 12);\n    i0.ɵɵlistener(\"onClose\", function SecretDetailComponent_kd_hidden_property_5_Template_kd_secret_detail_edit_onClose_7_listener() {\n      i0.ɵɵrestoreView(_r5);\n\n      const _r3 = i0.ɵɵreference(1);\n\n      const ctx_r4 = i0.ɵɵnextContext();\n      return _r3.mode = ctx_r4.HiddenPropertyMode.Hidden;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 13);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const key_r2 = ctx.$implicit;\n\n    const _r3 = i0.ɵɵreference(1);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"enableEdit\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(key_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.decoder.base64(ctx_r0.secret == null ? null : ctx_r0.secret.data[key_r2]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"secret\", ctx_r0.secret)(\"key\", key_r2)(\"editing\", _r3.mode == ctx_r0.HiddenPropertyMode.Edit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.decoder.base64(ctx_r0.secret == null ? null : ctx_r0.secret.data[key_r2]).length, \" bytes\");\n  }\n}\n\nfunction SecretDetailComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵi18n(1, 14);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nexport let SecretDetailComponent = /*#__PURE__*/(() => {\n  class SecretDetailComponent {\n    constructor(secret_, actionbar_, activatedRoute_, notifications_, decoder) {\n      this.secret_ = secret_;\n      this.actionbar_ = actionbar_;\n      this.activatedRoute_ = activatedRoute_;\n      this.notifications_ = notifications_;\n      this.decoder = decoder;\n      this.endpoint_ = EndpointManager.resource(Resource.secret, true);\n      this.unsubscribe_ = new Subject();\n      this.isInitialized = false;\n      this.HiddenPropertyMode = HiddenPropertyMode;\n    }\n\n    ngOnInit() {\n      const resourceName = this.activatedRoute_.snapshot.params.resourceName;\n      const resourceNamespace = this.activatedRoute_.snapshot.params.resourceNamespace;\n      this.secret_.get(this.endpoint_.detail(), resourceName, resourceNamespace).pipe(takeUntil(this.unsubscribe_)).subscribe(d => {\n        this.secret = d;\n        this.notifications_.pushErrors(d.errors);\n        this.actionbar_.onInit.emit(new ResourceMeta('Secret', d.objectMeta, d.typeMeta));\n        this.isInitialized = true;\n      });\n    }\n\n    ngOnDestroy() {\n      this.unsubscribe_.next();\n      this.unsubscribe_.complete();\n      this.actionbar_.onDetailsLeave.emit();\n    }\n\n    getDataKeys() {\n      return this.secret && this.secret.data ? Object.keys(this.secret.data) : [];\n    }\n\n  }\n\n  SecretDetailComponent.ɵfac = function SecretDetailComponent_Factory(t) {\n    return new (t || SecretDetailComponent)(i0.ɵɵdirectiveInject(i1.NamespacedResourceService), i0.ɵɵdirectiveInject(i2.ActionbarService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.NotificationsService), i0.ɵɵdirectiveInject(i5.DecoderService));\n  };\n\n  SecretDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SecretDetailComponent,\n    selectors: [[\"kd-secret-detail\"]],\n    decls: 7,\n    vars: 5,\n    consts: function () {\n      let i18n_0;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_146442697456175258$$SRC_APP_FRONTEND_RESOURCE_CONFIG_SECRET_DETAIL_COMPONENT_TS_1 = goog.getMsg(\"Data\");\n        i18n_0 = MSG_EXTERNAL_146442697456175258$$SRC_APP_FRONTEND_RESOURCE_CONFIG_SECRET_DETAIL_COMPONENT_TS_1;\n      } else {\n        i18n_0 = $localize`Data`;\n      }\n\n      let i18n_2;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7298863100332850221$$SRC_APP_FRONTEND_RESOURCE_CONFIG_SECRET_DETAIL_COMPONENT_TS__3 = goog.getMsg(\"There is no data to display.\");\n        i18n_2 = MSG_EXTERNAL_7298863100332850221$$SRC_APP_FRONTEND_RESOURCE_CONFIG_SECRET_DETAIL_COMPONENT_TS__3;\n      } else {\n        i18n_2 = $localize`There is no data to display.`;\n      }\n\n      return [[3, \"initialized\", \"objectMeta\"], [3, \"initialized\"], [\"title\", \"\"], i18n_0, [\"content\", \"\"], [3, \"enableEdit\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"enableEdit\"], [\"property\", \"\"], [\"key\", \"\"], [\"whenVisible\", \"\", 1, \"kd-code-block\"], [\"whenEdit\", \"\"], [3, \"secret\", \"key\", \"editing\", \"onClose\"], [\"whenHidden\", \"\"], i18n_2];\n    },\n    template: function SecretDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"kd-object-meta\", 0);\n        i0.ɵɵelementStart(1, \"kd-card\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵi18n(3, 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtemplate(5, SecretDetailComponent_kd_hidden_property_5_Template, 10, 7, \"kd-hidden-property\", 5);\n        i0.ɵɵtemplate(6, SecretDetailComponent_ng_container_6_Template, 2, 0, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"initialized\", ctx.isInitialized)(\"objectMeta\", ctx.secret == null ? null : ctx.secret.objectMeta);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"initialized\", ctx.isInitialized);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.getDataKeys());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.secret == null ? null : ctx.secret.data));\n      }\n    },\n    directives: [i6.ObjectMetaComponent, i7.CardComponent, i8.NgForOf, i9.HiddenPropertyComponent, i10.SecretDetailEditComponent, i8.NgIf],\n    encapsulation: 2\n  });\n  return SecretDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}